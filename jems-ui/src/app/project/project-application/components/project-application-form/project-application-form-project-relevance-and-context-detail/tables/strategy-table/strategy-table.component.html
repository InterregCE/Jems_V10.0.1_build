<div appFormLayout [formGroup]="formGroup">
    <app-multi-language appNoWidthLimit *ngIf="strategiesForm.controls.length>0">
        <div [appTableConfig]="[{},{}, {maxInRem:2}]">
            <div>
                <span class="mat-body-strong">{{ 'project.application.form.relevance.strategy' | translate }}</span>
                <span class="mat-body-strong">{{ 'project.application.form.relevance.contribution' | translate }}</span>
                <div class="mat-body-strong"></div>
            </div>
            <div *ngFor="let strategy of strategiesForm.controls;let i=index">
                <ng-container formArrayName="strategies">
                    <ng-container [formGroupName]="i">

                        <mat-form-field>
                            <mat-label>{{'project.application.form.relevance.strategy' | translate}}</mat-label>
                            <mat-select [disabled]="!editable" formControlName="strategy" required>
                                <mat-option *ngFor="let enum of strategyEnum" [value]="enum">
                                    {{'programme.strategy.' + enum | translate}}
                                </mat-option>
                            </mat-select>
                            <mat-error>
                                <app-form-field-errors [errors]="strategy.get('strategy')?.errors"
                                                       [messages]="strategyErrors"></app-form-field-errors>
                            </mat-error>
                        </mat-form-field>

                        <div>
                            <app-multi-language-form-field
                                    type="textarea"
                                    formControlName="contribution"
                                    maxLength="2000"
                                    minRows="1"
                                    label="project.application.form.relevance.contribution">
                            </app-multi-language-form-field>
                        </div>

                        <div>
                            <button type="button" (click)="deleteEntry(i)" mat-icon-button color="accent">
                                <mat-icon>delete</mat-icon>
                            </button>
                        </div>
                    </ng-container>
                </ng-container>
            </div>
        </div>
    </app-multi-language>
    <button *ngIf="editable && strategiesForm.controls?.length < 20" mat-stroked-button type="button"
            (click)="addNewStrategy()">
        <mat-icon>add</mat-icon>
    </button>
</div>


