<app-breadcrumb></app-breadcrumb>
<h2>{{'project.application.form.acronym' | translate : {acronym: projectStore.getAcronym() | async} }}</h2>
<h4>{{'project.application.form.section.part.d' | translate}}</h4>
<h5>{{'project.application.form.budget.title' | translate}}</h5>

<mat-table id="budget-table" class="mat-elevation-z8 general-application-table"
       [dataSource]="budget$ | async">
    <ng-container matColumnDef="partner">
        <mat-header-cell *matHeaderCellDef>
            <span matTooltip="{{ 'project.breadcrumb.partnerName' | translate }}">{{ 'project.breadcrumb.partnerName' | translate }}</span>
        </mat-header-cell>
        <mat-cell *matCellDef="let budget">
            {{ 'common.label.project.partner.role.shortcut.' + budget.partner?.role | translate : {partner: budget.partner?.sortNumber} }}
        </mat-cell>
        <mat-footer-cell *matFooterCellDef>{{ 'project.partner.budget.table.total' | translate }}</mat-footer-cell>
    </ng-container>

    <ng-container matColumnDef="country">
        <mat-header-cell *matHeaderCellDef>
            <span matTooltip="{{ 'project.partner.main-address.country' | translate }}">{{ 'project.partner.main-address.country' | translate }}</span>
        </mat-header-cell>
        <mat-cell *matCellDef="let budget">{{ budget.partner?.country }}</mat-cell>
        <mat-footer-cell *matFooterCellDef></mat-footer-cell>
    </ng-container>

    <ng-container matColumnDef="staffCosts">
        <mat-header-cell *matHeaderCellDef>
            <span matTooltip="{{ 'project.partner.budget.staff' | translate }}">{{ 'project.partner.budget.staff' | translate }}</span>
        </mat-header-cell>
        <mat-cell *matCellDef="let budget" class="justify-end">{{ budget.staffCosts | asMoney }}</mat-cell>
        <mat-footer-cell *matFooterCellDef class="justify-end">{{ totalStaffCosts | asMoney }}</mat-footer-cell>
    </ng-container>

    <ng-container matColumnDef="officeAndAdministrationCosts">
        <mat-header-cell *matHeaderCellDef>
            <span matTooltip="{{ 'project.partner.budget.office.and.admin.header' | translate }}">{{ 'project.partner.budget.office.and.admin.header' | translate }}</span>
        </mat-header-cell>
        <mat-cell *matCellDef="let budget" class="justify-end">{{ budget.officeAndAdministrationCosts | asMoney }}</mat-cell>
        <mat-footer-cell *matFooterCellDef class="justify-end">{{ totalOfficeAndAdministrationCosts | asMoney }}</mat-footer-cell>
    </ng-container>

    <ng-container matColumnDef="travelCosts">
        <mat-header-cell *matHeaderCellDef>
            <span matTooltip="{{ 'project.partner.budget.travel' | translate }}">{{ 'project.partner.budget.travel' | translate }}</span>
        </mat-header-cell>
        <mat-cell *matCellDef="let budget" class="justify-end">{{ budget.travelCosts | asMoney }}</mat-cell>
        <mat-footer-cell *matFooterCellDef class="justify-end">{{ totalTravelCosts | asMoney }}</mat-footer-cell>
    </ng-container>

    <ng-container matColumnDef="externalCosts">
        <mat-header-cell *matHeaderCellDef>
            <span matTooltip="{{ 'project.partner.budget.external' | translate }}">{{ 'project.partner.budget.external' | translate }}</span>
        </mat-header-cell>
        <mat-cell *matCellDef="let budget" class="justify-end">{{ budget.externalCosts | asMoney }}</mat-cell>
        <mat-footer-cell *matFooterCellDef class="justify-end">{{ totalExternalCosts | asMoney }}</mat-footer-cell>
    </ng-container>

    <ng-container matColumnDef="equipmentCosts">
        <mat-header-cell *matHeaderCellDef>
            <span matTooltip="{{ 'project.partner.budget.equipment' | translate }}">{{ 'project.partner.budget.equipment' | translate }}</span>
        </mat-header-cell>
        <mat-cell *matCellDef="let budget" class="justify-end">{{ budget.equipmentCosts | asMoney }}</mat-cell>
        <mat-footer-cell *matFooterCellDef class="justify-end">{{ totalEquipmentCosts | asMoney }}</mat-footer-cell>
    </ng-container>

    <ng-container matColumnDef="infrastructureCosts">
        <mat-header-cell *matHeaderCellDef>
            <span matTooltip="{{ 'project.partner.budget.infrastructure' | translate }}">{{ 'project.partner.budget.infrastructure' | translate }}</span>
        </mat-header-cell>
        <mat-cell *matCellDef="let budget" class="justify-end">{{ budget.infrastructureCosts | asMoney }}</mat-cell>
        <mat-footer-cell *matFooterCellDef class="justify-end">{{ totalInfrastructureCosts | asMoney }}</mat-footer-cell>
    </ng-container>

    <ng-container matColumnDef="total">
        <mat-header-cell *matHeaderCellDef class="bold">
            <span matTooltip="{{ 'project.partner.budget.table.total' | translate }}">{{ 'project.partner.budget.table.total' | translate }}</span>
        </mat-header-cell>
        <mat-cell *matCellDef="let budget" class="justify-end bold">{{ budget.totalSum | asMoney }}</mat-cell>
        <mat-footer-cell *matFooterCellDef class="justify-end">{{ total | asMoney }}</mat-footer-cell>
    </ng-container>

    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
    <mat-footer-row *matFooterRowDef="displayedColumns"></mat-footer-row>
</mat-table>
