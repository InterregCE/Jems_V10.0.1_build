<ng-container *ngIf="(data$ | async) as data">
    <app-form (save)="updateBudgets()">
        <form [formGroup]="budgetsForm">
            <h5 id="funds" class="header">{{'project.partner.budget.header' | translate}}</h5>
            <br>
            <ng-container *ngIf="!data.isStaffCostFlatRateActive">
                <h6 id="staff-2" class="header">{{'project.partner.budget.staff' | translate}}</h6>
                <app-staff-cost-table
                        *ngIf="budgetsForm"
                        [editable]="data.isProjectEditable"></app-staff-cost-table>
            </ng-container>
            <ng-container *ngIf="data.isStaffCostFlatRateActive">
                <h6 id="staffCostsFlatRate"
                    class="header">{{'project.partner.budget.staff.costs.flat.rate.header' | translate}}</h6>
                <p class="intro-text-small">{{'project.partner.budget.staff.costs.flat.rate.description' | translate}}</p>
                <app-budget-flat-rate-table
                        [total]="data.staffCostTotal"
                        [description]="'project.partner.budget.staff.costs.flat.rate' | translate"></app-budget-flat-rate-table>
            </ng-container>

            <br>
            <ng-container *ngIf="data.isOfficeAdministrationFlatRateActive">
                <h6 id="officeAdministration"
                    class="header">{{'project.partner.budget.office.and.admin.header' | translate}}</h6>
                <p class="intro-text-small">{{'project.partner.budget.office.and.admin.description' | translate}}</p>
                <app-budget-flat-rate-table
                        [total]="data.officeFlatRateBasedOnStaffCostTotal"
                        [description]="'project.partner.budget.office.and.admin.flat.rate' | translate"></app-budget-flat-rate-table>
            </ng-container>

            <br>
            <ng-container *ngIf="!data.isTravelAndAccommodationFlatRateActive">
                <h6 id="travel" class="header">{{'project.partner.budget.travel' | translate}}</h6>
                <app-budget-table
                        *ngIf="budgetsForm"
                        [editable]="data.isProjectEditable"
                        [tableName]="constants.FORM_CONTROL_NAMES.travel">
                </app-budget-table>
            </ng-container>
            <ng-container *ngIf="data.isTravelAndAccommodationFlatRateActive">
                <h6 class="header">{{'project.partner.budget.travel.and.accommodation.flat.rate.header' | translate}}</h6>
                <p class="intro-text-small">{{'project.partner.budget.travel.and.accommodation.flat.rate.description' | translate}}</p>
                <app-budget-flat-rate-table
                        [total]="data.travelFlatRateBasedOnStaffCostTotal"
                        [description]="'project.partner.budget.travel.and.accommodation.flat.rate.header' | translate"></app-budget-flat-rate-table>
            </ng-container>

            <br>
            <h6 id="external" class="header">{{'project.partner.budget.external' | translate}}</h6>
            <app-budget-table
                    *ngIf="budgetsForm"
                    [editable]="data.isProjectEditable"
                    [tableName]="constants.FORM_CONTROL_NAMES.external">
            </app-budget-table>
            <br>
            <h6 id="equipment" class="header">{{'project.partner.budget.equipment' | translate}}</h6>
            <app-budget-table
                    *ngIf="budgetsForm"
                    [editable]="data.isProjectEditable"
                    [tableName]="constants.FORM_CONTROL_NAMES.equipment">
            </app-budget-table>

            <br>
            <h6 id="infrastructure" class="header">{{'project.partner.budget.infrastructure' | translate}}</h6>
            <app-budget-table
                    *ngIf="budgetsForm"
                    [editable]="data.isProjectEditable"
                    [tableName]="constants.FORM_CONTROL_NAMES.infrastructure">
            </app-budget-table>
        </form>
    </app-form>
</ng-container>
