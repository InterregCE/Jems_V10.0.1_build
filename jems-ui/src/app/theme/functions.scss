@import 'node_modules/@angular/material/theming';

// source: https://stackoverflow.com/a/57288409

@mixin generate-theme-vars($theme) {
  //default palette foreground/background:
  $foreground-palette: map-get($theme, foreground);
  $background-palette: map-get($theme, background);
  $is-dark-theme: map-get($theme, is-dark);

  /////////////////////////////////////////////////
  // SCSS VARS
  /////////////////////////////////////////////////

  $primary-theme: map-get($theme, primary);
  $primary: mat-color(map-get($theme, primary));
  $primary-halftone: mat-color(map-get($theme, primary), if($is-dark-theme, darker, lighter));
  $accent: mat-color(map-get($theme, accent));
  $warn: mat-color(map-get($theme, warn));

  $text: mat-color($foreground-palette, text);
  $text-secondary: mat-color($foreground-palette, secondary-text);
  $text-contrast: mat-color($primary-theme, default-contrast);
  $text-contrast-lighter: mat-color($primary-theme, lighter-contrast);
  $text-contrast-darker: mat-color($primary-theme, darker-contrast);
  $text-link: if($is-dark-theme, $text, $primary);
  $underline-color: mat-color($foreground-palette, text, if($is-dark-theme, .7, .42));

  $background: mat-color($background-palette, background);
  $background-card: mat-color($background-palette, card);
  $background-lighter: mat-color($primary-theme, if($is-dark-theme, darker, lighter));
  $app-bar: mat-color($background-palette, app-bar);
  $hover: mat-color($background-palette, hover);
  $outline: mat-color($foreground-palette, divider, if($is-dark-theme, 0.3, 0.12));;

  /////////////////////////////////////////////////
  // CSS VARS
  /////////////////////////////////////////////////

  --blue-gray: #{mat-color($mat-blue-gray, if($is-dark-theme, 50, 100))};
  --light-blue-gray: #{mat-color($mat-blue-gray, 100, if($is-dark-theme, 0.25, 0.5))};
  --pale-blue-gray: #{mat-color($mat-blue-gray, 50, if($is-dark-theme, 0.0625, 0.375))};
  --light-yellow: #{mat-color($mat-yellow, 100)};
  --pale-yellow: #{mat-color($mat-yellow, 50)};

  --primary-color: #{$primary};
  --accent-color: #{$accent};
  --warn-color: #{$warn};

  --font-color-primary: #{$text};
  --font-color-secondary: #{$text-secondary};
  --font-color-contrast: #{$text-contrast};
  --font-color-contrast-lighter: #{$text-contrast-lighter};
  --font-color-contrast-darker: #{$text-contrast-darker};
  --font-text-link: #{$text-link};

  --hover-color: #{$hover};
  --background: #{$background};
  --background-card: #{$background-card};
  --background-lighter: #{$background-lighter};
  --app-bar: #{$app-bar};
  --underline-color: #{$underline-color};

  /**
   * Our custom coloring to global components:
   */

  // changed coloring for stroked button
  .mat-stroked-button {
    color: if($is-dark-theme, $text, $primary);
  }
  .mat-stroked-button:not([disabled]) {
    border-color: if($is-dark-theme, $outline, $primary);
  }

  // changed button-toggle styling to match stroked button
  .mat-button-toggle-group:not([aria-disabled=true]) {
    border-color: if($is-dark-theme, $outline, $primary);

    .mat-button-toggle {
      background-color: transparent;
      color: if($is-dark-theme, $text, $primary);
    }

    .mat-button-toggle-checked {
      background-color: $primary-halftone;
    }
  }

}
