<div appFormLayout>
    <h3>{{'programme.area.nuts.header' | translate}}</h3>
    <app-alert
            [show]="!submitted && (showSuccessMessage$ | async)"
            [type]="Alert.SUCCESS">
        <p>
            {{
            'programme.area.nuts.download.success' | translate : {
                version: metadata?.title,
                date: metadata?.date
            }
            }}
        </p>
    </app-alert>
    <app-alert *ngIf="error$ | async as error"
               [show]="!!error"
               [type]="Alert.ERROR">
        <p>{{ (error.i18nKey ? error.i18nKey : 'programme.area.nuts.download.error') | translate}}</p>
    </app-alert>
    <div>
        <p *ngIf="metadata">
            {{
            'programme.area.nuts.downloaded.label' | translate : {
                version: metadata.title,
                date: metadata.date
            }
            }}
        </p>
        <p *ngIf="!metadata">
            {{'programme.area.nuts.not.downloaded.label' | translate }}
        </p>
        <br>
        <p>{{'programme.area.nuts.copyright.en' | translate}}</p>
        <p>{{'programme.area.nuts.copyright.fr' | translate}}</p>
        <p>{{'programme.area.nuts.copyright.de' | translate}}</p>
        <p>{{'programme.area.nuts.copyright.exception' | translate}}</p>
    </div>
    <ng-container *ngIf="!metadata">
        <button mat-stroked-button type="submit"
                [disabled]="submitted"
                (click)="onSubmit()">
            {{'programme.area.nuts.download.button' | translate}}
        </button>
    </ng-container>
</div>
