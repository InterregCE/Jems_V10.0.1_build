<app-main-page-template [needsCard]="true"
                        titleKey="programme.data.page.title"
                        subTitleKey="programme.tab.indicators">

    <div page-description>
        {{ "programme.tab.indicators.description" | translate}}
        <ul>
            <li>{{ "programme.tab.indicators.description.point.1" | translate}}</li>
            <li>{{ "programme.tab.indicators.description.point.2" | translate}}</li>
            <li>{{ "programme.tab.indicators.description.point.3" | translate}}</li>
        </ul>
    </div>

    <div appFormLayout>
        <ng-container *ngIf="currentOutputIndicatorPage$ | async as outputIndicatorPage">
            <h3>{{'output.indicator.table.title' | translate}}</h3>
            <button mat-stroked-button
                    *hasPermission="PermissionsEnum.ProgrammeSetupUpdate"
                    [routerLink]="'/app/programme/indicators/outputIndicator/create'">
                <mat-icon>add</mat-icon>&nbsp;{{ 'programme.breadcrumb.outputIndicator.create' | translate }}
            </button>
            <app-programme-output-indicators-list
                    appNoWidthLimit
                    [indicator]="outputIndicator$ | async"
                    [indicatorPage]="outputIndicatorPage"
                    [pageIndex]="newOutputIndicatorPageIndex$ | async"
                    (newPageSize)="newOutputIndicatorPageSize$.next($event)"
                    (newPageIndex)="newOutputIndicatorPageIndex$.next($event)"
                    (newSort)="newOutputIndicatorSort$.next($event)">
            </app-programme-output-indicators-list>
        </ng-container>

        <ng-container *ngIf="currentResultIndicatorPage$ | async as resultIndicatorPage">
            <h3>{{'result.indicator.table.title' | translate}}</h3>
            <button mat-stroked-button
                    *hasPermission="PermissionsEnum.ProgrammeSetupUpdate"
                    [routerLink]="'/app/programme/indicators/resultIndicator/create'">
                <mat-icon>add</mat-icon>&nbsp;{{ 'programme.breadcrumb.resultIndicator.create' | translate }}
            </button>
            <app-programme-result-indicators-list
                    appNoWidthLimit
                    [indicator]="resultIndicator$ | async"
                    [indicatorPage]="resultIndicatorPage"
                    [pageIndex]="newResultIndicatorPageIndex$ | async"
                    (newPageSize)="newResultIndicatorPageSize$.next($event)"
                    (newPageIndex)="newResultIndicatorPageIndex$.next($event)"
                    (newSort)="newResultIndicatorSort$.next($event)">
            </app-programme-result-indicators-list>
        </ng-container>
    </div>

</app-main-page-template>
