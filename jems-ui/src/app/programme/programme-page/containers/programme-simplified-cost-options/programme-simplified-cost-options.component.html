<jems-main-page-template [needsCard]="true"
                        titleKey="programme.data.page.title"
                        subTitleKey="programme.tab.costs.option">
    <div jemsFormLayout>
        <ng-container *ngIf="lumpSumsDataSource$ | async as lumpSumsDataSource">
            <h3>{{'lump.sums.table.title' | translate}}</h3>
            <button mat-stroked-button class="mt-1"
                    *jemsHasPermission="PermissionsEnum.ProgrammeSetupUpdate"
                    [routerLink]="'/app/programme/costs/lumpSum/create'"
                    aria-label="add">
                <mat-icon>add</mat-icon>&nbsp;{{ 'programme.lumpSum.add' | translate }}
            </button>
            <jems-programme-lump-sums-list
                    jemsFormLayout
                    jemsNoWidthLimit
                    [dataSource]="lumpSumsDataSource"
                    (deleted)="lumpSumDeleted$.next()">
            </jems-programme-lump-sums-list>
        </ng-container>

        <ng-container *ngIf="unitCostDataSource$ | async as unitCostDataSource">
            <h3>{{'unit.cost.table.title' | translate}}</h3>
            <button mat-stroked-button class="mt-1"
                    *jemsHasPermission="PermissionsEnum.ProgrammeSetupUpdate"
                    [routerLink]="'/app/programme/costs/unitCost/create'"
                    aria-label="add">
                <mat-icon>add</mat-icon>&nbsp;{{ 'programme.unitCost.add' | translate }}
            </button>
            <jems-programme-unit-costs-list
                    jemsFormLayout
                    jemsNoWidthLimit
                    [dataSource]="unitCostDataSource"
                    (deleted)="unitCostDeleted$.next()">
            </jems-programme-unit-costs-list>
        </ng-container>
    </div>
</jems-main-page-template>
