buildscript {
    repositories {
        maven { url "https://artifactory.internal.catalysts.cc/cloudflight-internal" }
    }
    dependencies {
        classpath "io.cloudflight.gradle:cloudflight-gradle-plugin:4.3.3"
    }
}

// TODO - remove this section/repo when swagger generator 3.0.21 is published to maven central
allprojects {
    repositories {
        maven {
            url "https://oss.sonatype.org/content/repositories/snapshots"
        }
    }
}

description "EMS Project"
group "io.cloudflight.ems"
version "1.0.0"

apply plugin: "cloudflight-gradle-plugin"

subprojects {
    if (isJavaProject(it) || isKotlinProject(it)) {
        dependencies {
            api enforcedPlatform("io.cloudflight.platform:platform-bom:$cloudflightPlatformVersion")
            annotationProcessor enforcedPlatform("io.cloudflight.platform:platform-bom:$cloudflightPlatformVersion")
            testImplementation enforcedPlatform("io.cloudflight.platform:platform-test-bom:$cloudflightPlatformVersion")

            constraints {
                api "org.mariadb.jdbc:mariadb-java-client:2.6.0"
            }

        }
    }

    if (isKotlinProject(it)) {
        dependencies {
            kapt enforcedPlatform("io.cloudflight.platform:platform-bom:$cloudflightPlatformVersion")
        }
    }
}
