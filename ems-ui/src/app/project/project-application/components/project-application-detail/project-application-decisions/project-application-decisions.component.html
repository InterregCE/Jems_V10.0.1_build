
<div *ngIf="projectStatus !== OutputProjectStatus.StatusEnum.DRAFT
            && projectStatus !== OutputProjectStatus.StatusEnum.RETURNEDTOAPPLICANT">
    <br>
    <h5>Assessment</h5>
    <mat-expansion-panel
        [expanded]="true">
    <mat-expansion-panel-header>
        <mat-panel-title><h6>{{'project.assessment.decision.header' | translate}}</h6></mat-panel-title>
    </mat-expansion-panel-header>
    <div class="row">
        <div class="col-4">{{'project.assessment.eligibilityDecision.title' | translate}}</div>
        <div class="col-3">
            <div *ngIf="project.eligibilityDecision">
                {{'common.label.projectapplicationstatus.' + project.eligibilityDecision.status | translate}}
            </div>
        </div>
        <div class="col-2">
            <div *ngIf="project.eligibilityDecision">
                {{project.eligibilityDecision.decisionDate | date : Tables.DEFAULT_DATE_FORMAT_NO_TIME}}
            </div>
        </div>
        <div *ngIf="!project.eligibilityDecision" class="col-3 column">
            <button mat-raised-button color="primary" class="assessment-button"
                    [disabled]="!project.eligibilityAssessment"
                    [routerLink]="'/project/'+ project.id + '/eligibilityDecision'">
                {{'project.assessment.eligibilityDecision.assessment' | translate}}
            </button>
        </div>
        <div *ngIf="project.eligibilityDecision" class="col-3 column">
            <button mat-raised-button color="secondary" class="assessment-button"
                    [routerLink]="'/project/'+ project.id + '/eligibilityDecision'">
                {{'project.assessment.eligibilityDecision.assessment.view' | translate}}
            </button>
        </div>
    </div>
    <div class="row">
        <div class="col-4">{{'project.assessment.fundingDecision.title' | translate}}</div>
        <div class="col-3">
            <div *ngIf="project.fundingDecision">
                {{'common.label.projectapplicationstatus.' + project.projectStatus.status | translate}}
            </div>
        </div>
        <div class="col-2">
            <div *ngIf="project.fundingDecision">
                {{project.projectStatus.decisionDate | date : Tables.DEFAULT_DATE_FORMAT_NO_TIME}}
            </div>
        </div>
        <div *ngIf="!project.fundingDecision" class="col-3 column">
            <button mat-raised-button color="primary" class="assessment-button"
                    [disabled]="project.eligibilityDecision?.status !== OutputProjectStatus.StatusEnum.ELIGIBLE
                            || !project.qualityAssessment"
                    [routerLink]="'/project/'+ project.id + '/fundingDecision'">
                {{'project.assessment.fundingDecision.assessment' | translate}}
            </button>
        </div>
        <div *ngIf="!!project.fundingDecision" class="col-3 column">
            <button mat-raised-button class="assessment-button"
                    [color]="projectStatus === OutputProjectStatus.StatusEnum.APPROVEDWITHCONDITIONS ? 'primary' : null"
                    [routerLink]="'/project/'+ project.id + '/fundingDecision'">
                {{updateOrViewFundingLabel() | translate}}
            </button>
        </div>
    </div>
</mat-expansion-panel>
</div>
